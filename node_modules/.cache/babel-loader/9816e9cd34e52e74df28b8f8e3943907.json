{"ast":null,"code":"import _slicedToArray from\"/Users/raheemajannah/Documents/Traineeship/Full Stack Engineer/Projects/react-calculator-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/Users/raheemajannah/Documents/Traineeship/Full Stack Engineer/Projects/react-calculator-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import'./App.css';import{useReducer}from'react';import DigitButton from'./Components/DigitButtons';import OperatorButton from'./Components/OperatorButtons';/*\neveerything works except for decimal poiunt is being weird\n\n */ //should i create a test for this??\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var operators=['-','+','÷','×','%'];var expression='';var newNum='';export var ACTIONS={CLEAR:'clear',CHANGE_SIGN:'change-sign',ADD_DIGIT:'add_digit',ADD_OPERATOR:'add_operator',EQUALS:'equals'};function reducer(state,_ref){var type=_ref.type,payload=_ref.payload;switch(type){case ACTIONS.CLEAR:return{currentCalculation:'0',previousCalculation:' '};case ACTIONS.CHANGE_SIGN:if(state.currentCalculation==='0'){return state;}else{newNum=(0-state.currentCalculation).toString();return _objectSpread(_objectSpread({},state),{},{currentCalculation:\"\".concat(newNum)});}case ACTIONS.ADD_DIGIT:if(state.currentCalculation==='0'&&payload.digit!=='.'||state.previousCalculation.includes('=')){//this is possible causing issues, some issues with decimals and zeros on the second half od the operation\nreturn{previousCalculation:' ',currentCalculation:\"\".concat(payload.digit)};}else if(state.currentCalculation.includes('.')&&payload.digit==='.'){return state;}else if(state.currentCalculation===' '&&payload.digit==='.'){return _objectSpread(_objectSpread({},state),{},{currentCalculation:\"\".concat('0'+payload.digit)});}else{return _objectSpread(_objectSpread({},state),{},{currentCalculation:\"\".concat(state.currentCalculation+payload.digit)});}case ACTIONS.ADD_OPERATOR:if(operators.includes(payload.digit)){return{previousCalculation:\"\".concat(state.currentCalculation+' '+payload.digit),currentCalculation:' '};}break;case ACTIONS.EQUALS:if(state.previousCalculation.includes('=')||state.previousCalculation===' '){return state;}else{expression=state.previousCalculation+' '+state.currentCalculation+' = ';if(expression.includes('÷')){return{currentCalculation:\"\".concat(state.previousCalculation.slice(0,-1)/state.currentCalculation),previousCalculation:\"\".concat(expression)};}else if(expression.includes('×')){return{currentCalculation:\"\".concat(state.previousCalculation.slice(0,-1)*state.currentCalculation),previousCalculation:\"\".concat(expression)};}else if(expression.includes('+')){return{currentCalculation:\"\".concat(parseFloat(state.previousCalculation.slice(0,-1))+parseFloat(state.currentCalculation)),previousCalculation:\"\".concat(expression)};}else if(expression.includes('-')){return{currentCalculation:\"\".concat(state.previousCalculation.slice(0,-1)-state.currentCalculation),previousCalculation:\"\".concat(expression)};}else if(expression.includes('%')){return{currentCalculation:\"\".concat(state.previousCalculation.slice(0,-1)%state.currentCalculation),previousCalculation:\"\".concat(expression)};}}default:return state;}}function App(){var initialState={currentCalculation:'0',previousCalculation:' '};var _useReducer=useReducer(reducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),_useReducer2$=_useReducer2[0],currentCalculation=_useReducer2$.currentCalculation,previousCalculation=_useReducer2$.previousCalculation,dispatch=_useReducer2[1];return/*#__PURE__*/_jsxs(\"div\",{className:\"calculator\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"outputPanel\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"previousCalculation\",children:previousCalculation}),/*#__PURE__*/_jsx(\"div\",{className:\"currentCalculation\",children:currentCalculation})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return dispatch({type:ACTIONS.CLEAR});},children:\"AC\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return dispatch({type:ACTIONS.CHANGE_SIGN});},children:\"+/-\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return dispatch({type:ACTIONS.ADD_OPERATOR,payload:{digit:'%'}});},children:\"%\"}),/*#__PURE__*/_jsx(OperatorButton,{digit:\"\\xF7\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"7\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"8\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"9\",dispatch:dispatch}),/*#__PURE__*/_jsx(OperatorButton,{digit:\"\\xD7\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"4\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"5\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"6\",dispatch:dispatch}),/*#__PURE__*/_jsx(OperatorButton,{digit:\"-\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"1\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"2\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"3\",dispatch:dispatch}),/*#__PURE__*/_jsx(OperatorButton,{digit:\"+\",dispatch:dispatch}),/*#__PURE__*/_jsx(\"button\",{digit:\"0\",onClick:function onClick(){return dispatch({type:ACTIONS.ADD_DIGIT,payload:{digit:'0'}});},className:\"largerButtons\",children:\"0\"}),/*#__PURE__*/_jsx(DigitButton,{digit:\".\",dispatch:dispatch}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return dispatch({type:ACTIONS.EQUALS});},className:\"operators\",children:\"=\"})]});}export default App;","map":{"version":3,"names":["useReducer","DigitButton","OperatorButton","operators","expression","newNum","ACTIONS","CLEAR","CHANGE_SIGN","ADD_DIGIT","ADD_OPERATOR","EQUALS","reducer","state","type","payload","currentCalculation","previousCalculation","toString","digit","includes","slice","parseFloat","App","initialState","dispatch"],"sources":["/Users/raheemajannah/Documents/Traineeship/Full Stack Engineer/Projects/react-calculator-app/src/App.js"],"sourcesContent":["import './App.css';\nimport { useReducer } from 'react';\nimport DigitButton from './Components/DigitButtons';\nimport OperatorButton from './Components/OperatorButtons'\n\n\n/*\neveerything works except for decimal poiunt is being weird\n\n */\n//should i create a test for this??\nconst operators = ['-', '+', '÷', '×', '%'];\nlet expression = '';\nlet newNum = '';\n\n\nexport const ACTIONS = {\n    CLEAR: 'clear',\n    CHANGE_SIGN: 'change-sign',\n    ADD_DIGIT: 'add_digit',\n    ADD_OPERATOR: 'add_operator',\n    EQUALS: 'equals'\n}\n\nfunction reducer(state, {type, payload}) {\n    switch(type) {\n        case ACTIONS.CLEAR: \n            return {\n                currentCalculation: `${'0'}`,\n                previousCalculation: `${' '}`\n            }\n        case ACTIONS.CHANGE_SIGN: \n            if(state.currentCalculation ==='0') {\n                return state\n            }\n            else {\n                newNum = (0-state.currentCalculation).toString()\n                return {\n                    ...state,\n                    currentCalculation: `${newNum}`\n                }\n            }\n        case ACTIONS.ADD_DIGIT: \n            if((state.currentCalculation === '0' && payload.digit !== '.') || state.previousCalculation.includes('=')) { \n                //this is possible causing issues, some issues with decimals and zeros on the second half od the operation\n                return {\n                    previousCalculation: `${' '}`,\n                    currentCalculation: `${payload.digit}`\n                }\n            }\n            else if(state.currentCalculation.includes('.') && payload.digit==='.') {\n                return state;\n            }\n            else if((state.currentCalculation === ' ') && payload.digit==='.') {\n                return {\n                    ...state,\n                    currentCalculation: `${'0' + payload.digit}`\n                }\n            }\n            else {\n                return {\n                    ...state,\n                    currentCalculation: `${state.currentCalculation + payload.digit}`\n                }\n            }\n        case ACTIONS.ADD_OPERATOR: \n            if (operators.includes(payload.digit)) {\n                return {\n                    previousCalculation: `${state.currentCalculation + ' ' + payload.digit}`,\n                    currentCalculation: `${' '}`\n                }\n            }\n            break;\n        case ACTIONS.EQUALS: \n            if(state.previousCalculation.includes('=') || state.previousCalculation === ' ') { \n                return state\n            }\n            else {\n                expression = state.previousCalculation + ' ' + state.currentCalculation + ' = ';\n                if(expression.includes('÷')) {\n                    return {\n                        currentCalculation: `${state.previousCalculation.slice(0, -1)/state.currentCalculation}`,\n                        previousCalculation: `${expression}`\n                    }\n                }\n                else if(expression.includes('×')) {\n                    return {\n                        currentCalculation: `${state.previousCalculation.slice(0, -1)*state.currentCalculation}`,\n                        previousCalculation: `${expression}`\n                    }\n                }\n                else if(expression.includes('+')) {\n                    return {\n                        currentCalculation: `${parseFloat(state.previousCalculation.slice(0, -1))+parseFloat(state.currentCalculation)}`,\n                        previousCalculation: `${expression}`\n                    }\n                }\n                else if(expression.includes('-')) {\n                    return {\n                        currentCalculation: `${state.previousCalculation.slice(0, -1)-state.currentCalculation}`,\n                        previousCalculation: `${expression}`\n                    }\n                }\n                else if(expression.includes('%')) {\n                    return {\n                        currentCalculation: `${state.previousCalculation.slice(0, -1)%state.currentCalculation}`,\n                        previousCalculation: `${expression}`\n                    }\n                }\n            }\n            default:\n                return state\n    }\n}\n\nfunction App() {\n    const initialState = {currentCalculation: '0', previousCalculation: ' '}\n    const[{currentCalculation, previousCalculation}, dispatch] = useReducer(reducer, initialState)\n\n    return (\n        <div className=\"calculator\"> \n            <div className=\"outputPanel\">\n                <div className=\"previousCalculation\">{previousCalculation}</div>\n                <div className=\"currentCalculation\">{currentCalculation}</div> \n            </div>\n            <button onClick={() => dispatch({type: ACTIONS.CLEAR})} >AC</button>\n            <button onClick={() => dispatch({type: ACTIONS.CHANGE_SIGN})} >+/-</button>\n            <button onClick={() => dispatch({type: ACTIONS.ADD_OPERATOR, payload: {digit:'%'}})} >%</button>\n            <OperatorButton digit='÷' dispatch={dispatch} />\n            <DigitButton digit='7' dispatch={dispatch} />\n            <DigitButton digit='8' dispatch={dispatch} />\n            <DigitButton digit='9' dispatch={dispatch} />\n            <OperatorButton digit ='×' dispatch={dispatch} />\n            <DigitButton digit='4' dispatch={dispatch} />\n            <DigitButton digit='5' dispatch={dispatch} />\n            <DigitButton digit='6' dispatch={dispatch} />\n            <OperatorButton digit ='-' dispatch={dispatch} />\n            <DigitButton digit='1' dispatch={dispatch} />\n            <DigitButton digit='2' dispatch={dispatch} />\n            <DigitButton digit='3' dispatch={dispatch} />\n            <OperatorButton digit='+' dispatch={dispatch} />\n            <button digit='0' onClick={() => dispatch({type: ACTIONS.ADD_DIGIT, payload: {digit:'0'}})} className='largerButtons'>0</button>\n            <DigitButton digit='.' dispatch={dispatch} />\n            <button onClick={() => dispatch({type: ACTIONS.EQUALS})} className=\"operators\">=</button>\n        </div>\n    )\n}\n\nexport default App"],"mappings":"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"},"metadata":{},"sourceType":"module"}